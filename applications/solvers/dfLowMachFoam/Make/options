-include $(GENERAL_RULES)/mplibType

EXE_INC = -std=c++14 \
    -g \
    -Wno-unused-variable \
    -Wno-unused-but-set-variable \
    -Wno-old-style-cast \
    $(PFLAGS) $(PINC) \
    $(if $(LIBTORCH_ROOT),-DUSE_LIBTORCH,) \
    $(if $(PYTHON_INC_DIR),-DUSE_PYTORCH,) \
    $(if $(USE_BLASDNN),-DUSE_BLASDNN,) \
    -I$(LIB_SRC)/transportModels/compressible/lnInclude \
    -I$(LIB_SRC)/thermophysicalModels/basic/lnInclude \
    -I$(LIB_SRC)/TurbulenceModels/turbulenceModels/lnInclude \
    -I$(LIB_SRC)/TurbulenceModels/compressible/lnInclude \
    -I$(LIB_SRC)/finiteVolume/cfdTools \
    -I$(LIB_SRC)/finiteVolume/lnInclude \
    -I$(LIB_SRC)/meshTools/lnInclude \
    -I$(LIB_SRC)/sampling/lnInclude \
    -I$(LIB_SRC)/dynamicFvMesh/lnInclude \
    -I$(LIB_SRC)/Pstream/mpi \
    -I$(DF_SRC)/dfCanteraMixture/lnInclude \
    -I$(DF_SRC)/dfChemistryModel/lnInclude \
    -I$(DF_SRC)/dfCombustionModels/lnInclude \
    -I$(DF_SRC)/dfUtils/lnInclude \
    -I$(DF_SRC)/dfGenMatrix/lnInclude \
    -I$(DF_SRC)/dfMatrices/lnInclude \
    -I$(DF_SRC)/dfSchedule/lnInclude \
    -I$(CANTERA_ROOT)/include \
    $(if $(LIBTORCH_ROOT),-I$(LIBTORCH_ROOT)/include,) \
    $(if $(LIBTORCH_ROOT),-I$(LIBTORCH_ROOT)/include/torch/csrc/api/include,) \
    $(PYTHON_INC_DIR) \
    -I$(LIB_SRC)/parallel/decompose/decompositionMethods/lnInclude \
    -I$(LIB_SRC)/mesh/snappyHexMesh/lnInclude \
    -I$(LIB_SRC)/meshTools/lnInclude \
    -I$(LIB_SRC)/fileFormats/lnInclude \
    -I$(LIB_SRC)/triSurface/lnInclude \
    -I$(LIB_SRC)/surfMesh/lnInclude \
    -I$(LIB_SRC)/dynamicMesh/lnInclude \
    -I$(LIB_SRC)/finiteVolume/lnInclude \
    -I$(LIB_SRC)/meshTools/lnInclude \
    -I$(LIB_SRC)/dynamicMesh/lnInclude \
    -I$(LIB_SRC)/finiteVolume/lnInclude \
    -I$(LIB_SRC)/renumber/renumberMethods/lnInclude \
    -I$(LIB_SRC)/renumber/zoltanRenumber/lnInclude \
    -I$(DF_SRC)/dfRenumber/lnInclude \
    -I$(LIB_SRC)/parallel/decompose/decompositionMethods/lnInclude

EXE_LIBS = \
    -L$(DF_LIBBIN) \
    -ldfFluidThermophysicalModels \
    -ldfCompressibleTurbulenceModels \
    -ldfCanteraMixture \
    -ldfChemistryModel \
    -ldfCombustionModels  \
    -ldfUtils \
    -ldfGenMatrix \
    -ldfMatrices \
    -ldfSchedule \
    -ldfRenumber \
    -lcompressibleTransportModels \
    -lturbulenceModels \
    -lfiniteVolume \
    -ldynamicFvMesh \
    -ldynamicMesh \
    -ldecompositionMethods \
    -lmeshTools \
    -lsampling \
    -L$(FOAM_LIBBIN)/dummy -lscotchDecomp -lptscotchDecomp \
    -lsurfMesh \
    -lfileFormats \
    -lgenericPatchFields \
    -lrenumberMethods \
    $(if $(LIBTORCH_ROOT),$(LIBTORCH_ROOT)/lib/libtorch.so,) \
    $(if $(LIBTORCH_ROOT),$(LIBTORCH_ROOT)/lib/libc10.so,) \
    $(if $(LIBTORCH_ROOT),-rdynamic,) \
    $(if $(LIBTORCH_ROOT),-lpthread,) \
    $(if $(PYTHON_LIB_DIR),-L$(PYTHON_LIB_DIR),) \
    $(if $(PYTHON_LIB_DIR),-lpython3,) \
    $(if $(USE_BLASDNN), -L$(DF_SRC)/dfChemistryModel/DNNInferencer_blas/build -lDNNInferencer_blas,) \
    -L$(CANTERA_ROOT)/lib -lcantera \
    -L${DeepFlame_HOME}/software/sundials-5.3.0/lib64 -lsundials_cvode -lsundials_cvodes -lsundials_sunlinsollapackband -lsundials_sunlinsollapackdense \
    ${DeepFlame_HOME}/software/xMath-SACA/libswlapack.a \
    ${DeepFlame_HOME}/software/xMath-SACA/libswblas.a \
    -L${DeepFlame_HOME}/software/yaml-cpp-0.7.0/lib64 -lyaml-cpp \
    -lgfortran    
    
    